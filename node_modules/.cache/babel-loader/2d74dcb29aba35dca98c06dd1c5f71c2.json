{"remainingRequest":"/Users/drewpeifer/src/vue/apod-vue/node_modules/babel-loader/lib/index.js!/Users/drewpeifer/src/vue/apod-vue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/drewpeifer/src/vue/apod-vue/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/drewpeifer/src/vue/apod-vue/src/views/Home.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/drewpeifer/src/vue/apod-vue/src/views/Home.vue","mtime":1646248636768},{"path":"/Users/drewpeifer/src/vue/apod-vue/babel.config.js","mtime":1645525835308},{"path":"/Users/drewpeifer/src/vue/apod-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/drewpeifer/src/vue/apod-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/drewpeifer/src/vue/apod-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/drewpeifer/src/vue/apod-vue/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2RyZXdwZWlmZXIvc3JjL3Z1ZS9hcG9kLXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmRhdGUudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnBhZC1zdGFydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgeyByZWFjdGl2ZSwgdG9SZWZzLCBjb21wdXRlZCB9IGZyb20gInZ1ZSI7CmltcG9ydCBDYXJkIGZyb20gJ0AvY29tcG9uZW50cy9DYXJkLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSG9tZScsCiAgY29tcG9uZW50czogewogICAgQ2FyZDogQ2FyZAogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIHN0YXRlID0gcmVhY3RpdmUoewogICAgICBwb3N0czogW10sCiAgICAgIHNlYXJjaERhdGU6ICIiLAogICAgICByZWZyZXNoRGF0ZTogY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiByZWZyZXNoRGF0ZSgpOwogICAgICB9KQogICAgfSk7IC8vIGdldHMgdGhlIGRhdGUgZnJvbSB0aGUgaW5wdXQsIG9yIGlmIHRoZSBpbnB1dCBpcyBlbXB0eSwgcmV0dXJucyBjdXJyZW50IGRhdGUKCiAgICBmdW5jdGlvbiByZWZyZXNoRGF0ZSgpIHsKICAgICAgY29uc29sZS5sb2coJ3JlZnJlc2hpbmcgZGF0ZSEnKTsKCiAgICAgIGlmICghc3RhdGUuc2VhcmNoRGF0ZSkgewogICAgICAgIC8vIGlucHV0IGVtcHR5LCByZXR1cm4gdG9kYXkncyBkYXRlCiAgICAgICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTsKICAgICAgICByZXR1cm4gc2FuaXRpemVEYXRlKHRvZGF5KTsKICAgICAgfQoKICAgICAgdmFyIHNlYXJjaERhdGUgPSBzdGF0ZS5zZWFyY2hEYXRlOwogICAgICByZXR1cm4gc2FuaXRpemVEYXRlKHNlYXJjaERhdGUpOwogICAgfSAvLyBzYW5pdGl6ZXMgYSBkYXRlIHN0cmluZwoKCiAgICBmdW5jdGlvbiBzYW5pdGl6ZURhdGUoZGF0ZSkgewogICAgICB2YXIgZGQgPSBTdHJpbmcoZGF0ZS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyksCiAgICAgICAgICBtbSA9IFN0cmluZyhkYXRlLmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpLAogICAgICAgICAgeXl5eSA9IGRhdGUuZ2V0RnVsbFllYXIoKSwKICAgICAgICAgIHVnbHlEYXRlID0geXl5eSArICItIiArIG1tICsgIi0iICsgZGQsCiAgICAgICAgICBuaWNlRGF0ZSA9IG1tICsgJy8nICsgZGQgKyAnLycgKyB5eXl5OwogICAgICBzdGF0ZS5zZWFyY2hEYXRlID0gdWdseURhdGU7CiAgICAgIHJldHVybiBuaWNlRGF0ZTsKICAgIH0gLy8gcGVyZm9ybXMgdGhlIHNlYXJjaCBhZ2FpbnN0IHRoZSBBUE9EIGFwaQoKCiAgICBmdW5jdGlvbiBzZWFyY2goKSB7CiAgICAgIGZldGNoKCJodHRwczovL2FwaS5uYXNhLmdvdi9wbGFuZXRhcnkvYXBvZD9hcGlfa2V5PXVwMHdWcW1ZcTNkbFA4U0FHZFJWV2xqamlFTEttNDRQMzhEUkd1TkMmZGF0ZT0iICsgc3RhdGUuc2VhcmNoRGF0ZSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBpZiAoZGF0YS5jb2RlKSB7CiAgICAgICAgICAvLyBpbnZhbGlkIGRhdGUgLyBubyBkYXRhLCBzbyBidWlsZCBhIGR1bW15IHBvc3QKICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgIGRhdGU6ICJ1bmRlZmluZWQiLAogICAgICAgICAgICAvLyBwYXNzZWQgdG8gbmljZURhdGUgaW4gQ2FyZC52dWUKICAgICAgICAgICAgZXhwbGFuYXRpb246ICIiLAogICAgICAgICAgICBtZWRpYV90eXBlOiAiaW1hZ2UiLAogICAgICAgICAgICBzZXJ2aWNlX3ZlcnNpb246ICJ2MSIsCiAgICAgICAgICAgIHRpdGxlOiAiU29ycnksIG5vIHBpY3R1cmUgZm9yIHRoYXQgZGF0ZSA6KCIsCiAgICAgICAgICAgIHVybDogIi9laW5zdGVpbi5qcGVnIiwKICAgICAgICAgICAgaGR1cmw6ICIvZWluc3RlaW4uanBlZyIsCiAgICAgICAgICAgIGNvcHlyaWdodDogIk5vbmUiCiAgICAgICAgICB9OwogICAgICAgIH0KCiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgc3RhdGUucG9zdHMgPSBbZGF0YV07CiAgICAgICAgY29uc29sZS5kaXIoc3RhdGUpOwogICAgICB9KTsKICAgIH0gLy8gcmV0dXJucyBhIHJhbmRvbSA2IEFQT0QgZW50cmllcwoKCiAgICBmdW5jdGlvbiByYW5kb21TZWFyY2goKSB7CiAgICAgIGZldGNoKCJodHRwczovL2FwaS5uYXNhLmdvdi9wbGFuZXRhcnkvYXBvZD9hcGlfa2V5PXVwMHdWcW1ZcTNkbFA4U0FHZFJWV2xqamlFTEttNDRQMzhEUkd1TkMmY291bnQ9NiIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHJldHVybiByZXMuanNvbigpOwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgc3RhdGUucG9zdHMgPSBkYXRhOwogICAgICAgIGNvbnNvbGUuZGlyKHN0YXRlKTsKICAgICAgfSk7CiAgICB9CgogICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdG9SZWZzKHN0YXRlKSksIHt9LCB7CiAgICAgIHJlZnJlc2hEYXRlOiByZWZyZXNoRGF0ZSwKICAgICAgc2VhcmNoOiBzZWFyY2gsCiAgICAgIHJhbmRvbVNlYXJjaDogcmFuZG9tU2VhcmNoCiAgICB9KTsKICB9Cn07"},{"version":3,"mappings":"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","names":["reactive","toRefs","computed","Card","name","components","setup","state","posts","searchDate","refreshDate","console","log","today","Date","sanitizeDate","date","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","uglyDate","niceDate","search","fetch","then","res","json","data","code","explanation","media_type","service_version","title","url","hdurl","copyright","dir","randomSearch"],"sourceRoot":"","sources":["/Users/drewpeifer/src/vue/apod-vue/src/views/Home.vue"],"sourcesContent":["<template>\n\t<div class=\"flex mt-5 flex-row justify-center w-min mx-auto\">\n\t\t<input type=\"date\" placeholder=\"MM/DD/YYYY\" class=\"text-right p-2 mr-2 border-blue-500 border-2 rounded-full\" v-model=\"searchDate\" />\n\t\t<button @click=\"search\" class=\"bg-blue-900 hover:bg-blue-600 text-white font-bold px-4 rounded-full\">Search</button>\n\t</div>\n\t<div class=\"flex grow mt-5 flex-row justify-center mx-auto \">\n\t\t<button @click=\"randomSearch\" class=\"bg-green-900 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-full w-min whitespace-nowrap\">Surprise me!</button>\n\t</div>\n\t<div class=\"px-5 grow flex flex-wrap justify-center flex-row\">\n\t\t<Card v-for=\"post in posts\" :post=\"post\" :key=\"post.date\" />\n\t</div>\n\t<div class=\"footer self-end text-center pt-5 text-white text-xs\">\n\t\t<p>Powered by \n\t\t\t<a class=\"underline hover:text-blue-800 visited:text-purple-600\" href=\"https://vuejs.org/\" target=\"_blank\">Vue.js</a> and \n\t\t\t<a class=\"underline hover:text-blue-800 visited:text-purple-600\" href=\"https://github.com/nasa/apod-api\" target=\"_blank\">NASA</a></p>\n\t</div>\n</template>\n\n<script>\nimport {reactive, toRefs, computed} from \"vue\";\nimport Card from '@/components/Card.vue';\n\nexport default {\n\tname: 'Home',\n\tcomponents: {\n\t\tCard\n\t},\n\tsetup() {\n\t\tconst state = reactive({\n\t\t\tposts: [],\n\t\t\tsearchDate: \"\",\n\t\t\trefreshDate: computed(() => refreshDate())\n\t\t});\n\n\t\t// gets the date from the input, or if the input is empty, returns current date\n\t\tfunction refreshDate() {\n\t\t\tconsole.log('refreshing date!');\n\t\t\tif (!state.searchDate) {\n\t\t\t\t// input empty, return today's date\n\t\t\t\tlet today = new Date();\n\t\t\t\treturn sanitizeDate(today);\n\t\t\t}\n\n\t\t\tlet searchDate = state.searchDate;\n\t\t\treturn sanitizeDate(searchDate);\n\t\t}\n\n\t\t// sanitizes a date string\n\t\tfunction sanitizeDate(date) {\n\t\t\tvar dd = String(date.getDate()).padStart(2, '0'),\n\t\t\tmm = String(date.getMonth() + 1).padStart(2, '0'),\n\t\t\tyyyy = date.getFullYear(),\n\t\t\tuglyDate = yyyy + \"-\" + mm + \"-\" + dd,\n\t\t\tniceDate = mm + '/' + dd + '/' + yyyy;\n\n\t\t\tstate.searchDate = uglyDate;\n\t\t\treturn niceDate;\n\t\t}\n\n\t\t// performs the search against the APOD api\n\t\tfunction search() {\n\t\t\tfetch(\"https://api.nasa.gov/planetary/apod?api_key=up0wVqmYq3dlP8SAGdRVWljjiELKm44P38DRGuNC&date=\" + state.searchDate)\n\t\t\t.then((res) => res.json())\n\t\t\t.then((data) => {\n\t\t\t\tif (data.code) {\n\t\t\t\t\t// invalid date / no data, so build a dummy post\n\t\t\t\t\tdata = {\n\t\t\t\t\t\tdate: \"undefined\",// passed to niceDate in Card.vue\n\t\t\t\t\t\texplanation: \"\",\n\t\t\t\t\t\tmedia_type: \"image\",\n\t\t\t\t\t\tservice_version: \"v1\",\n\t\t\t\t\t\ttitle: \"Sorry, no picture for that date :(\",\n\t\t\t\t\t\turl: \"/einstein.jpeg\",\n\t\t\t\t\t\thdurl: \"/einstein.jpeg\",\n\t\t\t\t\t\tcopyright: \"None\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconsole.log(data);\n\t\t\t\tstate.posts = [data];\n\t\t\t\tconsole.dir(state);\n\t\t\t})\n\t\t}\n\n\t\t// returns a random 6 APOD entries\n\t\tfunction randomSearch() {\n\t\t\tfetch(\"https://api.nasa.gov/planetary/apod?api_key=up0wVqmYq3dlP8SAGdRVWljjiELKm44P38DRGuNC&count=6\")\n\t\t\t.then((res) => res.json())\n\t\t\t.then((data) => {\n\t\t\t\tconsole.log(data);\n\t\t\t\tstate.posts = data;\n\t\t\t\tconsole.dir(state);\n\t\t\t})\n\t\t}\n\n\t\treturn {\n\t\t\t...toRefs(state),\n\t\t\trefreshDate,\n\t\t\tsearch,\n\t\t\trandomSearch\n\t\t}\n\t}\n}\n</script>\n"]}]}